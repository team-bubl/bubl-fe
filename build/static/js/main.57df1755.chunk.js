(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(94)},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),l=n(19),s=n(8),u=n(39),i=n.n(u),p=n(40),h=n(1),g=n(41),d=n.n(g),S=function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"https://team-bubl-api.herokuapp.com/api",headers:{Authorization:e}})},b={error:"",fetchingSchool:!1,loggingIn:!1,signingUp:!1,bubls:[],topic:"",schoolData:[],addingBubl:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(h.a)({},e,{error:"",loggingIn:!0});case"LOGIN_SUCCESS":return console.log("LOGIN_SUCCESS action.payload:",t.payload),Object(h.a)({},e,{loggingIn:!1,error:"",username:""});case"FETCH_SCHOOLS_START":return Object(h.a)({},e,{error:"",fetchingSchool:!0});case"FETCH_SCHOOLS_SUCCESS":return Object(h.a)({},e,{fetchingSchool:!1,schoolData:t.payload});case"FETCH_SCHOOLS_FAILURE":return Object(h.a)({},e,{error:t.payload,fetchingSchool:!1});case"SIGNUP_START":return Object(h.a)({},e,{error:"",signingUp:!0});case"SIGNUP_SUCCESS":return Object(h.a)({},e,{signingUp:!1,error:""});case"SIGNUP_FAILURE":return Object(h.a)({},e,{signingUp:!1,error:t.payload});case"FETCH_USERS_START":return Object(h.a)({},e,{fetchingUser:!0,error:""});case"FETCH_USERS_SUCCESS":return Object(h.a)({},e,{fetchingUser:!1,user:t.payload,error:""});case"FETCH_USERS_FAILURE":return Object(h.a)({},e,{fetchingUser:!1,error:t.payload});case"FETCH_BUBLS_START":return Object(h.a)({},e,{fetchingBubls:!0,error:""});case"FETCH_BUBLS_SUCCESS":return Object(h.a)({},e,{fetchingBubls:!1,bubls:t.payload,error:""});case"FETCH_BUBLS_FAILURE":return Object(h.a)({},e,{fetchingBubls:!1,error:t.payload});case"FETCH_POSTS_START":return Object(h.a)({},e,{fetchingPosts:!0,error:""});case"FETCH_POSTS_SUCCESS":return Object(h.a)({},e,{fetchingPosts:!1,postsData:t.payload,error:""});case"FETCH_POSTS_FAILURE":return Object(h.a)({},e,{fetchingPosts:!1,error:t.payload});case"FETCH_COMMENTS_START":return Object(h.a)({},e,{fetchingComments:!0,error:""});case"FETCH_COMMENTS_SUCCESS":return Object(h.a)({},e,{fetchingComments:!1,comments:t.payload,error:""});case"FETCH_COMMENTS_FAILURE":return Object(h.a)({},e,{fetchingComments:!1,error:t.payload});case"ADD_BUBL_START":return Object(h.a)({},e,{addingBubl:!0,error:""});case"ADD_BUBL_SUCCESS":return Object(h.a)({},e,{addingBubl:!1,error:"",topic:t.payload});case"ADD_BUBL_FAILURE":return Object(h.a)({},e,{addingBubl:!1,error:t.payload});default:return e}},E=n(15),f=n(18),C=n(17),O=n(10),_=n(11),U=n(13),y=n(12),T=n(14),j=n(24),v=n.n(j),B=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={credentials:{username:"",password:""}},n.handleChange=function(e){n.setState({credentials:Object(h.a)({},n.state.credentials,Object(C.a)({},e.target.name,e.target.value))})},n.login=function(e){e.preventDefault(),n.props.login(n.state.credentials).then(function(e){e&&n.props.history.push("/protected")})},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login},r.a.createElement("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.handleChange}),r.a.createElement("button",null,this.props.loggingIn?r.a.createElement(v.a,{type:"ThreeDots",color:"#1f2a38",height:"12",width:"26"}):"Log in")))}}]),t}(r.a.Component),L=Object(s.b)(function(e){return{error:e.error,loggingIn:e.loggingIn}},{login:function(e){return function(t){return t({type:"LOGIN_START"}),S().post("/auth/login",e).then(function(e){return localStorage.setItem("token",e.data.token),t({type:"LOGIN_SUCCESS",payload:e.data}),!0}).catch(function(e){return console.log(e.response)})}}})(B),A=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={newUser:{username:"",password:"",audit_id:""},schoolData:[]},n.handleChange=function(e){n.setState({newUser:Object(h.a)({},n.state.newUser,Object(C.a)({},e.target.name,e.target.value))})},n.signup=function(e){e.preventDefault(),n.props.signup(n.state).then(function(e){e&&n.props.history.push("/protected")})},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getSchools()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-div"},r.a.createElement("form",{onSubmit:this.signup},r.a.createElement("select",{name:"audit_id",value:this.state.audit_id,onChange:this.handleChange},this.props.schoolData.map(function(e){return r.a.createElement("option",{key:e.audit_id,value:e.audit_id},e.school)})),r.a.createElement("input",{type:"text",name:"username",value:this.state.newUser.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.newUser.password,onChange:this.handleChange}),r.a.createElement("button",null,this.props.signingUp?r.a.createElement(v.a,{type:"ThreeDots",color:"#1f2a38",height:"12",width:"26"}):"Sign Up")))}}]),t}(r.a.Component),F=Object(s.b)(function(e){return{error:e.error,signingUp:e.signingUp,fetchingSchool:e.fetchingSchool,schoolData:e.schoolData}},{signup:function(e){return function(t){return t({type:"SIGNUP_START"}),S().post("/auth/register",e).then(function(e){return localStorage.setItem("token",e.data.token),t({type:"SIGNUP_SUCCESS",payload:e.data.user}),!0}).catch(function(e){return console.log(e.response)})}},getSchools:function(){return function(e){e({type:"FETCH_SCHOOLS_START"}),S().get("/schools").then(function(t){e({type:"FETCH_SCHOOLS_SUCCESS",payload:t.data})}).catch(function(t){e({type:"FETCH_SCHOOLS_FAILURE",payload:t.response.data.error})})}}})(A),R=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={topic:""},n.handleChange=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value)),console.log("handleChange() e.target.value:",e.target.value),console.log("handleChange() e.target.name:",e.target.name),console.log("handleChange() this.state.topic:",n.state.topic)},n.handleSubmit=function(e){e.preventDefault(),n.props.addBubl(n.state),n.setState({topic:""})},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Add Bubl by Topic:",r.a.createElement("input",{type:"text",name:"topic",value:this.state.topic,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(r.a.Component),I=Object(f.f)(Object(s.b)(function(e){return{error:e.error,topic:e.topic,addingBubl:e.addingBubl}},{addBubl:function(e){return function(t){t({type:"ADD_BUBL_START"}),S().post("/bubls/",e).then(function(e){console.log("ADD_BUBL action res.data:",e.data),t({type:"ADD_BUBL_SUCCESS",payload:e.data})}).catch(function(e){t({type:"ADD_BUBL_FAILURE",payload:e.response})})}}})(R)),H=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={bubls:[]},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getBubls()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-wrapper"},r.a.createElement("p",null,"Bubls Component"),r.a.createElement("p",null,console.log("Inside Bubls Return:",this.props)),this.props.bubls.map(function(e){return r.a.createElement("p",{key:e.audit_id},e.topic)}),r.a.createElement(I,null))}}]),t}(r.a.Component),D=Object(f.f)(Object(s.b)(function(e){var t=e.error;return{bubls:e.bubls,error:t,fetchingBubls:e.fetchingBubls}},{getBubls:function(){return function(e){return e({type:"FETCH_BUBLS_START"}),S().get("/bubls/").then(function(t){e({type:"FETCH_BUBLS_SUCCESS",payload:t.data}),console.log("FETCH_BUBLS res.data:",t.data)}).catch(function(t){e({type:"FETCH_BUBLS_FAILURE",payload:t.response}),console.log("FETCH_BUBLS err.respone:",t.response)})}}})(H)),w=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={user:{username:""}},n.logout=function(){localStorage.removeItem("token"),n.setState({})},n}return Object(T.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-div"},r.a.createElement("p",null,"Dashboard"),r.a.createElement("button",{onClick:this.logout},"Log Out"),r.a.createElement(D,null))}}]),t}(r.a.Component),k=Object(f.f)(Object(s.b)(function(e){return{username:e.username,error:e.error,school:e.school,fetchingUser:e.fetchingUser}},{getUsers:function(){return function(e){e({type:"FETCH_USERS_START"}),S().get("/users").then(function(t){e({type:"FETCH_USERS_SUCCESS",payload:t.data}),console.log("FETCH_USERS res.data:",t.data)}).catch(function(t){e({type:"FETCH_USERS_FAILURE",payload:t.response}),console.log("FETCH_USERS err.respone:",t.response)})}}})(w)),N=n(43),P=function(e){var t=e.component,n=Object(N.a)(e,["component"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(f.a,{to:"/login"})}}))};n(92);var G=function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Bubl")),r.a.createElement("main",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/protected"},"Protected Page"))),r.a.createElement(f.b,{path:"/login",component:L}),r.a.createElement(f.b,{path:"/signup",component:F}),r.a.createElement(P,{exact:!0,path:"/protected",component:k}))))},M=(n(93),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c),x=Object(l.d)(m,M(Object(l.a)(p.a,i.a))),J=document.getElementById("root");c.a.render(r.a.createElement(s.a,{store:x},r.a.createElement(G,null)),J)}},[[44,1,2]]]);
//# sourceMappingURL=main.57df1755.chunk.js.map