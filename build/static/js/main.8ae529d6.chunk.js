(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(94)},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),s=n(19),l=n(9),u=n(39),i=n.n(u),p=n(40),h=n(1),g=n(41),S=n.n(g),d=function(){var e=localStorage.getItem("token");return S.a.create({baseURL:"https://team-bubl-api.herokuapp.com/api",headers:{Authorization:e}})},E={error:"",fetchingSchool:!1,loggingIn:!1,signingUp:!1,bubls:[],schoolData:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return Object(h.a)({},e,{error:"",loggingIn:!0});case"LOGIN_SUCCESS":return console.log("LOGIN_SUCCESS action.payload:",t.payload),Object(h.a)({},e,{loggingIn:!1,error:"",username:""});case"FETCH_SCHOOLS_START":return Object(h.a)({},e,{error:"",fetchingSchool:!0});case"FETCH_SCHOOLS_SUCCESS":return Object(h.a)({},e,{fetchingSchool:!1,schoolData:t.payload});case"FETCH_SCHOOLS_FAILURE":return Object(h.a)({},e,{error:t.payload,fetchingSchool:!1});case"SIGNUP_START":return Object(h.a)({},e,{error:"",signingUp:!0});case"SIGNUP_SUCCESS":return Object(h.a)({},e,{signingUp:!1,error:""});case"SIGNUP_FAILURE":return Object(h.a)({},e,{signingUp:!1,error:t.payload});case"FETCH_USERS_START":return Object(h.a)({},e,{fetchingUser:!0,error:""});case"FETCH_USERS_SUCCESS":return Object(h.a)({},e,{fetchingUser:!1,user:t.payload,error:""});case"FETCH_USERS_FAILURE":return Object(h.a)({},e,{fetchingUser:!1,error:t.payload});case"FETCH_BUBLS_START":return Object(h.a)({},e,{fetchingBubls:!0,error:""});case"FETCH_BUBLS_SUCCESS":return Object(h.a)({},e,{fetchingBubls:!1,bubls:t.payload,error:""});case"FETCH_BUBLS_FAILURE":return Object(h.a)({},e,{fetchingBubls:!1,error:t.payload});case"FETCH_POSTS_START":return Object(h.a)({},e,{fetchingPosts:!0,error:""});case"FETCH_POSTS_SUCCESS":return Object(h.a)({},e,{fetchingPosts:!1,postsData:t.payload,error:""});case"FETCH_POSTS_FAILURE":return Object(h.a)({},e,{fetchingPosts:!1,error:t.payload});case"FETCH_COMMENTS_START":return Object(h.a)({},e,{fetchingComments:!0,error:""});case"FETCH_COMMENTS_SUCCESS":return Object(h.a)({},e,{fetchingComments:!1,comments:t.payload,error:""});case"FETCH_COMMENTS_FAILURE":return Object(h.a)({},e,{fetchingComments:!1,error:t.payload});case"ADD_BUBL_START":return Object(h.a)({},e,{addingBubl:!0,error:""});case"ADD_BUBL_SUCCESS":return Object(h.a)({},e,{addingBubl:!1,error:"",bubl:t.payload});case"ADD_BUBL_FAILURE":return Object(h.a)({},e,{addingBubl:!1,error:t.payload});default:return e}},m=n(14),f=n(17),C=n(18),O=n(11),_=n(12),U=n(15),T=n(13),y=n(16),j=n(24),v=n.n(j),F=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={credentials:{username:"",password:""}},n.handleChange=function(e){n.setState({credentials:Object(h.a)({},n.state.credentials,Object(C.a)({},e.target.name,e.target.value))})},n.login=function(e){e.preventDefault(),n.props.login(n.state.credentials).then(function(e){e&&n.props.history.push("/protected")})},n}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login},r.a.createElement("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.handleChange}),r.a.createElement("button",null,this.props.loggingIn?r.a.createElement(v.a,{type:"ThreeDots",color:"#1f2a38",height:"12",width:"26"}):"Log in")))}}]),t}(r.a.Component),L=Object(l.b)(function(e){return{error:e.error,loggingIn:e.loggingIn}},{login:function(e){return function(t){return t({type:"LOGIN_START"}),d().post("/auth/login",e).then(function(e){return localStorage.setItem("token",e.data.token),t({type:"LOGIN_SUCCESS",payload:e.data}),!0}).catch(function(e){return console.log(e.response)})}}})(F),B=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={newUser:{username:"",password:"",audit_id:""},schoolData:[]},n.handleChange=function(e){n.setState({newUser:Object(h.a)({},n.state.newUser,Object(C.a)({},e.target.name,e.target.value))})},n.signup=function(e){e.preventDefault(),n.props.signup(n.state).then(function(e){e&&n.props.history.push("/protected")})},n}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getSchools()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-div"},r.a.createElement("form",{onSubmit:this.signup},r.a.createElement("select",{name:"audit_id",value:this.state.audit_id,onChange:this.handleChange},this.props.schoolData.map(function(e){return r.a.createElement("option",{key:e.audit_id,value:e.audit_id},e.school)})),r.a.createElement("input",{type:"text",name:"username",value:this.state.newUser.username,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:this.state.newUser.password,onChange:this.handleChange}),r.a.createElement("button",null,this.props.signingUp?r.a.createElement(v.a,{type:"ThreeDots",color:"#1f2a38",height:"12",width:"26"}):"Sign Up")))}}]),t}(r.a.Component),H=Object(l.b)(function(e){return{error:e.error,signingUp:e.signingUp,fetchingSchool:e.fetchingSchool,schoolData:e.schoolData}},{signup:function(e){return function(t){return t({type:"SIGNUP_START"}),d().post("/auth/register",e).then(function(e){return localStorage.setItem("token",e.data.token),t({type:"SIGNUP_SUCCESS",payload:e.data.user}),!0}).catch(function(e){return console.log(e.response)})}},getSchools:function(){return function(e){e({type:"FETCH_SCHOOLS_START"}),d().get("/schools").then(function(t){e({type:"FETCH_SCHOOLS_SUCCESS",payload:t.data})}).catch(function(t){e({type:"FETCH_SCHOOLS_FAILURE",payload:t.response.data.error})})}}})(B),I=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={bubls:[]},n}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getBubls()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-wrapper"},r.a.createElement("p",null,"Bubls Component"),r.a.createElement("p",null,console.log("Inside Bubls Return:",this.props)),this.props.bubls.map(function(e){return r.a.createElement("p",{key:e.school_id},e.topic)}))}}]),t}(r.a.Component),R=Object(f.f)(Object(l.b)(function(e){var t=e.error;return{bubls:e.bubls,error:t,fetchingBubls:e.fetchingBubls}},{getBubls:function(){return function(e){return e({type:"FETCH_BUBLS_START"}),d().get("/bubls/").then(function(t){e({type:"FETCH_BUBLS_SUCCESS",payload:t.data}),console.log("FETCH_BUBLS res.data:",t.data)}).catch(function(t){e({type:"FETCH_BUBLS_FAILURE",payload:t.response}),console.log("FETCH_BUBLS err.respone:",t.response)})}}})(I)),A=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={user:{username:""}},n.logout=function(){localStorage.removeItem("token"),n.setState({})},n}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"delete-this-div"},r.a.createElement("p",null,"Dashboard"),r.a.createElement("button",{onClick:this.logout},"Log Out"),r.a.createElement(R,null))}}]),t}(r.a.Component),w=Object(f.f)(Object(l.b)(function(e){return{username:e.username,error:e.error,school:e.school,fetchingUser:e.fetchingUser}},{getUsers:function(){return function(e){e({type:"FETCH_USERS_START"}),d().get("/users").then(function(t){e({type:"FETCH_USERS_SUCCESS",payload:t.data}),console.log("FETCH_USERS res.data:",t.data)}).catch(function(t){e({type:"FETCH_USERS_FAILURE",payload:t.response}),console.log("FETCH_USERS err.respone:",t.response)})}}})(A)),D=n(43),k=function(e){var t=e.component,n=Object(D.a)(e,["component"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(f.a,{to:"/login"})}}))};n(92);var N=function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Bubl")),r.a.createElement("main",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/protected"},"Protected Page"))),r.a.createElement(f.b,{path:"/login",component:L}),r.a.createElement(f.b,{path:"/signup",component:H}),r.a.createElement(k,{exact:!0,path:"/protected",component:w}))))},P=(n(93),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c),G=Object(s.d)(b,P(Object(s.a)(p.a,i.a))),M=document.getElementById("root");c.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(N,null)),M)}},[[44,1,2]]]);
//# sourceMappingURL=main.8ae529d6.chunk.js.map